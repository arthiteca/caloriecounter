╔══════════════════════════════════════════════════════════════════════╗
║              BAT-ФАЙЛЫ ДЛЯ УПРАВЛЕНИЯ БОТОМ (WINDOWS)               ║
╚══════════════════════════════════════════════════════════════════════╝

🎯 СОЗДАННЫЕ БАТНИКИ
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📦 install.bat
   └─ Полная установка проекта
   └─ Создает venv, устанавливает зависимости
   └─ Запускать ПЕРВЫМ при установке

🔧 create_env.bat
   └─ Интерактивное создание .env файла
   └─ Помогает ввести токены

🔑 generate_keys.bat
   └─ Генерация ключей доступа
   └─ Создает access_keys.txt

✅ check_setup.bat
   └─ Проверка правильности настройки
   └─ Запускать перед первым запуском

🚀 start_bot.bat
   └─ ЗАПУСК БОТА
   └─ Главный файл для запуска

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🎬 БЫСТРЫЙ СТАРТ (ПО ПОРЯДКУ)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1️⃣ УСТАНОВКА:
   📂 Двойной клик → install.bat
   ⏱️  Подождите 1-2 минуты
   ✅ Зависимости установлены

2️⃣ НАСТРОЙКА ТОКЕНОВ:
   📂 Двойной клик → create_env.bat
   🔑 Введите токены Telegram и OpenAI
   ✅ Файл .env создан

3️⃣ ГЕНЕРАЦИЯ КЛЮЧЕЙ:
   📂 Двойной клик → generate_keys.bat
   🔐 Ключи сгенерированы
   ✅ Файл access_keys.txt создан

4️⃣ ПРОВЕРКА:
   📂 Двойной клик → check_setup.bat
   🔍 Проверка настройки
   ✅ Всё готово!

5️⃣ ЗАПУСК БОТА:
   📂 Двойной клик → start_bot.bat
   🚀 Бот запущен!

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📝 ПОДРОБНОЕ ОПИСАНИЕ
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📦 install.bat
   Что делает:
   • Проверяет наличие Python
   • Создаёт виртуальное окружение (venv)
   • Обновляет pip
   • Устанавливает все зависимости из requirements.txt
   
   Когда использовать:
   • При первой установке проекта
   • После обновления requirements.txt
   • После удаления папки venv
   
   Ожидаемое время: 1-2 минуты

🔧 create_env.bat
   Что делает:
   • Запускает интерактивный скрипт create_env.py
   • Спрашивает токены Telegram и OpenAI
   • Создаёт файл .env с токенами
   • Создаёт резервную копию если .env уже существует
   
   Когда использовать:
   • При первой настройке
   • Для смены токенов
   • Если .env был удалён или повреждён
   
   Что нужно подготовить:
   • Telegram Bot Token (от @BotFather)
   • OpenAI API Key (от platform.openai.com)

🔑 generate_keys.bat
   Что делает:
   • Запускает generate_keys.py
   • Генерирует 1 безлимитный ключ
   • Генерирует 10 ограниченных ключей (20 изображений)
   • Сохраняет в access_keys.txt
   • Загружает ключи в базу данных
   
   Когда использовать:
   • Перед первым запуском бота
   • Когда нужны новые ключи доступа
   • После удаления базы данных
   
   Результат:
   • Файл access_keys.txt с ключами
   • Записи в calorie_counter.db

✅ check_setup.bat
   Что делает:
   • Проверяет наличие .env файла
   • Проверяет корректность токенов
   • Проверяет установленные зависимости
   • Проверяет подключение к OpenAI
   • Выводит детальный отчёт
   
   Когда использовать:
   • Перед первым запуском
   • После изменения настроек
   • При проблемах с запуском
   • Для диагностики
   
   Что проверяет:
   ✓ Файл .env существует
   ✓ Токены заполнены
   ✓ Python пакеты установлены
   ✓ OpenAI API работает

🚀 start_bot.bat
   Что делает:
   • Проверяет наличие venv
   • Проверяет наличие .env
   • Активирует виртуальное окружение
   • Запускает bot.py
   • Показывает ошибки если бот упал
   
   Когда использовать:
   • Для запуска бота
   • После каждой перезагрузки компьютера
   • После остановки бота (Ctrl+C)
   
   Как остановить бота:
   • Нажмите Ctrl+C в окне
   • Или закройте окно

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

⚠️ ЧАСТЫЕ ПРОБЛЕМЫ
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

❌ "Python не установлен"
   Решение:
   1. Скачайте Python 3.9+ с python.org
   2. При установке отметьте "Add to PATH"
   3. Перезапустите install.bat

❌ "Виртуальное окружение не найдено"
   Решение:
   1. Запустите install.bat
   2. Дождитесь завершения установки
   3. Запустите нужный батник снова

❌ "Файл .env не найден"
   Решение:
   1. Запустите create_env.bat
   2. Введите токены
   3. Или создайте .env вручную

❌ Бот не запускается
   Решение:
   1. Запустите check_setup.bat
   2. Проверьте логи в bot.log
   3. Убедитесь что токены правильные

❌ "ModuleNotFoundError"
   Решение:
   1. Запустите install.bat заново
   2. Убедитесь что интернет работает
   3. Проверьте что venv активирован

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

💡 ПОЛЕЗНЫЕ СОВЕТЫ
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✅ Запускайте батники двойным кликом
✅ Не закрывайте окно пока процесс не завершится
✅ Читайте сообщения в окне
✅ Используйте check_setup.bat для диагностики
✅ Храните access_keys.txt в безопасном месте

❌ Не запускайте батники из другой папки
❌ Не редактируйте батники если не уверены
❌ Не удаляйте папку venv вручную
❌ Не загружайте .env и access_keys.txt в git

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🔄 ТИПИЧНЫЙ РАБОЧИЙ ПРОЦЕСС
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

ЕЖЕДНЕВНАЯ РАБОТА:
   📂 start_bot.bat → Запуск бота
   💬 Бот работает
   ⌨️  Ctrl+C → Остановка бота

ПРИ ПРОБЛЕМАХ:
   📂 check_setup.bat → Диагностика
   📄 Открыть bot.log → Проверить ошибки
   🔧 Исправить проблему
   📂 start_bot.bat → Запуск снова

ДОБАВЛЕНИЕ КЛЮЧЕЙ:
   📂 generate_keys.bat → Генерация
   📄 Открыть access_keys.txt → Скопировать ключи
   💬 Раздать пользователям
   🗑️  Удалить access_keys.txt

ОБНОВЛЕНИЕ ПРОЕКТА:
   📂 install.bat → Переустановка
   📂 check_setup.bat → Проверка
   📂 start_bot.bat → Запуск

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📁 СОЗДАННЫЕ ФАЙЛЫ (после запуска)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

venv/                      - Виртуальное окружение (install.bat)
.env                       - Токены (create_env.bat)
access_keys.txt            - Ключи доступа (generate_keys.bat)
calorie_counter.db         - База данных (start_bot.bat)
bot.log                    - Логи работы (start_bot.bat)

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🎯 БЫСТРАЯ ШПАРГАЛКА
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Первая установка:
   install.bat → create_env.bat → generate_keys.bat → check_setup.bat → start_bot.bat

Обычный запуск:
   start_bot.bat

Проверка:
   check_setup.bat

Новые ключи:
   generate_keys.bat

Диагностика:
   check_setup.bat + bot.log

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Всё готово! Просто запускайте батники двойным кликом! 🚀

╔══════════════════════════════════════════════════════════════════════╗
║                      Удачи! 🎉                                       ║
╚══════════════════════════════════════════════════════════════════════╝
